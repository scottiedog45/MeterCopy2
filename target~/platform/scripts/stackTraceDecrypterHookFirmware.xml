<?xml version="1.0" encoding="UTF-8"?>
<!--
	ANT
	
	Copyright 2016-2017 IS2T. All rights reserved.
	Modification and distribution is permitted under certain conditions.
	IS2T PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.
-->
<project name="stackTraceDecrypterHookFirmware">
	<import file="stackTraceDecrypterAPI.xml"/>
	
	<target name="hook-check">
		<condition property="has.hook.images.files">
			<isreference refid="hook.images.files"/>
		</condition>
	</target>
	
	<target name="hook" if="has.hook.images.files" depends="hook-check" extensionOf="launch/extendedDefinitions">
		<augment id="hook.images.files">
			<path location="${platform.dir}/firmware/firmware.out" />			
		</augment>
	</target>
	
	<target name="hook-fail" unless="has.hook.images.files" depends="hook-check" extensionOf="launch/extendedDefinitions">
		<echo message="Cannot augement the 'hook.images.files', Because the reference doesn't exists" />
	</target>

</project>