<?xml version="1.0" encoding="UTF-8"?>
<!--
  ANT Buildfile

  Copyright 2015-2016 IS2T. All rights reserved.
  IS2T PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.

-->
<project name="net-embedded-dns-native-init">

	<import file="${scripts.dir}/extension-init.xml" />

	<target name="context/net-embedded-dns-native" extensionOf="init/context" depends="context/net-embedded">
		<condition property="usesNETEMBEDDEDNativeDNS" value="SET">
			<and>
				<isset property="usesNETEMBEDDED"/>
				<isset property="onBoard"/><!-- Native DNS could only be used on board (S3 use native instance) -->
			</and>
		</condition>
	</target>
	
	<target name="init/net-embedded-dns-native" extensionOf="init/execution" if="usesNETEMBEDDEDNativeDNS">
		<!-- CLASSPATH -->
		<augment id="init.application.classpath">
			<fileset dir="${jpf.dir}/javaLibs" includes="net-embedded-dns-*.jar"/>
		</augment>
			
		<!-- REQUIRES -->
		<augment id="init.requires">
			<!-- types loaded through DependencyInjectionHelper (couple: getName/forName)-->
			<string value="com.is2t.support.net.dns.NativeDNSResolver"/>
		</augment>
	</target>
	
	
	<target name="finalization/net-embedded-dns-native" extensionOf="init/finalization">
		
	</target>
	
</project>